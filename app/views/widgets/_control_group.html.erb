<div class="control-group <%= 'error' if model.has_error?(field) %>">
  <%= form.label field, label, class: 'control-label' %>
  <div class="controls">

    <% if select.empty? %>
      <%= form.send(input_type, field, input.merge(select)) %>
    <% else %>
      <%= form.select(field, select.delete(:options) || [], select) %>
    <% end %>

    <% if add_on %>
      <span class="add-on">.<%= add_on %> </span> 
    <% end %>
   
    <% if help %>
      <a href="#" class="btn btn-small btn-danger btn-help">?</a>
    <% end %>

    <%= model.error_message(field) %>

    <% if help_text %>
      <p class='help-block'><%= help_text %></p>
    <% end %>

    <% if help %>
      <div class="help_container">
        <%= render :partial => help %>
      </div>
    <% end %>

  </div>
</div>

